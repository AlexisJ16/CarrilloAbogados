# üöÄ MVP ROADMAP - Carrillo Abogados Legal Tech Platform

**Versi√≥n**: 1.0  
**Fecha de Creaci√≥n**: 2 de Enero, 2026  
**√öltima Actualizaci√≥n**: 2 de Enero, 2026  
**Estado**: ‚úÖ Plan Definido  
**Fecha de Lanzamiento MVP**: **27 de Marzo, 2026**

---

## üìã RESUMEN EJECUTIVO

Este documento define el **roadmap completo del MVP** para la plataforma Carrillo Abogados Legal Tech. El MVP se enfoca en las **5 funcionalidades cr√≠ticas** necesarias para ejecutar el plan de marketing y relanzamiento tecnol√≥gico de la empresa.

### Objetivo del MVP
> **Capturar leads desde el portal web, clasificarlos autom√°ticamente mediante n8n, y visualizar la informaci√≥n en dashboards para la toma de decisiones, garantizando alta disponibilidad y seguridad.**

### Tiempo hasta MVP: **~12 semanas** (2 Ene - 27 Mar 2026)

---

## üéØ LAS 5 FUNCIONALIDADES CORE DEL MVP

### Visi√≥n General

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    5 PILARES DEL MVP CARRILLO ABOGADOS                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇ   PILAR 1       ‚îÇ  ‚îÇ   PILAR 2       ‚îÇ  ‚îÇ   PILAR 3       ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ  AUTENTICACI√ìN  ‚îÇ  ‚îÇ  CAPTURA LEADS  ‚îÇ  ‚îÇ  INTEGRACI√ìN    ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ   Y ROLES       ‚îÇ  ‚îÇ  (Formulario)   ‚îÇ  ‚îÇ     N8N         ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ  4 tipos usuario‚îÇ  ‚îÇ  Lead API       ‚îÇ  ‚îÇ  Scoring auto   ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ  OAuth2 Google  ‚îÇ  ‚îÇ  Notificaciones ‚îÇ  ‚îÇ  Clasificaci√≥n  ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ  RBAC por rol   ‚îÇ  ‚îÇ  Almacenamiento ‚îÇ  ‚îÇ  Respuesta IA   ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                  ‚îÇ
‚îÇ  ‚îÇ   PILAR 4       ‚îÇ  ‚îÇ   PILAR 5       ‚îÇ                                  ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ                                  ‚îÇ
‚îÇ  ‚îÇ  DASHBOARDS     ‚îÇ  ‚îÇ  PRODUCCI√ìN     ‚îÇ                                  ‚îÇ
‚îÇ  ‚îÇ  INTERACTIVOS   ‚îÇ  ‚îÇ  PROFESIONAL    ‚îÇ                                  ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ                                  ‚îÇ
‚îÇ  ‚îÇ  KPIs y m√©tricas‚îÇ  ‚îÇ  Alta disponib. ‚îÇ                                  ‚îÇ
‚îÇ  ‚îÇ  Visualizaci√≥n  ‚îÇ  ‚îÇ  Seguridad      ‚îÇ                                  ‚îÇ
‚îÇ  ‚îÇ  Toma decisiones‚îÇ  ‚îÇ  SEO + Responsive‚îÇ                                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                  ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä PILAR 1: Sistema de Autenticaci√≥n y Roles

### Descripci√≥n
Los 4 tipos de usuario deben poder iniciar sesi√≥n (excepto Visitante) y acceder √∫nicamente a las funciones que corresponden a su rol.

### Los 4 Tipos de Usuario

| Rol | Autenticaci√≥n | Acceso | Funciones Principales |
|-----|---------------|--------|----------------------|
| **Visitante** | ‚ùå No requerida | Portal p√∫blico | Navegar, formulario contacto, solicitar cita |
| **Cliente** | ‚úÖ Email/OAuth2 | Portal cliente | Ver sus casos, subir documentos, mensajes |
| **Abogado** | ‚úÖ OAuth2 @carrilloabgd.com | Panel interno | Gestionar casos, clientes, calendario |
| **Administrador** | ‚úÖ OAuth2 @carrilloabgd.com | Acceso total | Configuraci√≥n, usuarios, contenido, workflows |

### Requerimientos T√©cnicos

| ID | Requerimiento | Microservicio | Prioridad | Estado |
|----|---------------|---------------|-----------|--------|
| AUTH-001 | Login OAuth2 con Google Workspace | api-gateway | MUST | üîÑ 30% |
| AUTH-002 | Validar dominio @carrilloabgd.com para abogados | api-gateway | MUST | ‚è≥ |
| AUTH-003 | Sistema RBAC con 4 roles | client-service | MUST | üîÑ 20% |
| AUTH-004 | Persistencia de sesi√≥n (JWT) | api-gateway | MUST | ‚è≥ |
| AUTH-005 | Login de clientes por email | client-service | MUST | ‚è≥ |
| AUTH-006 | Recuperaci√≥n de contrase√±a | notification-service | SHOULD | ‚è≥ |
| AUTH-007 | Verificaci√≥n de email | notification-service | SHOULD | ‚è≥ |

### Implementaci√≥n

```java
// Estructura de roles en el sistema
public enum UserRole {
    VISITOR,      // Sin autenticaci√≥n - acceso p√∫blico
    CLIENT,       // Cliente del bufete - acceso limitado
    LAWYER,       // Abogado @carrilloabgd.com - acceso casos
    ADMIN         // Administrador - acceso total
}

// Permisos por rol
VISITOR:  [READ_PUBLIC]
CLIENT:   [READ_OWN_CASES, UPLOAD_DOCUMENTS, SEND_MESSAGES]
LAWYER:   [CRUD_ASSIGNED_CASES, CRUD_ASSIGNED_CLIENTS, MANAGE_CALENDAR]
ADMIN:    [ALL_PERMISSIONS]
```

### Criterios de Aceptaci√≥n

- [ ] Usuario puede iniciar sesi√≥n con Google Workspace
- [ ] Sistema valida dominio @carrilloabgd.com para abogados
- [ ] Cada rol solo ve las funciones que le corresponden
- [ ] Token JWT se refresca autom√°ticamente
- [ ] Logout cierra sesi√≥n en todos los dispositivos

---

## üìä PILAR 2: Captura de Leads (Formulario)

### Descripci√≥n
Registrar leads a trav√©s del formulario del portal, capturar su informaci√≥n, guardarla y notificar a trav√©s de los canales establecidos.

### Flujo de Captura

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        FLUJO DE CAPTURA DE LEAD                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  [1] VISITANTE                                                             ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ Llena formulario de contacto en portal web                        ‚îÇ
‚îÇ              ‚îÇ                                                              ‚îÇ
‚îÇ              ‚ñº                                                              ‚îÇ
‚îÇ  [2] FRONTEND (Next.js)                                                    ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Validaci√≥n client-side (campos requeridos, formato email)         ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ POST /api/leads                                                   ‚îÇ
‚îÇ              ‚îÇ                                                              ‚îÇ
‚îÇ              ‚ñº                                                              ‚îÇ
‚îÇ  [3] API GATEWAY                                                           ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ Enruta a client-service                                           ‚îÇ
‚îÇ              ‚îÇ                                                              ‚îÇ
‚îÇ              ‚ñº                                                              ‚îÇ
‚îÇ  [4] CLIENT-SERVICE                                                        ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Valida datos server-side (66 tests de seguridad)                  ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Guarda en PostgreSQL (schema: clients, tabla: leads)              ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Emite evento NATS: lead.capturado                                 ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ Retorna HTTP 201 Created                                          ‚îÇ
‚îÇ              ‚îÇ                                                              ‚îÇ
‚îÇ              ‚ñº                                                              ‚îÇ
‚îÇ  [5] NOTIFICATION-SERVICE                                                  ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Escucha evento NATS                                               ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ Env√≠a email confirmaci√≥n al lead                                  ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ Notifica a admin@carrilloabgd.com                                 ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Campos del Formulario

| Campo | Tipo | Requerido | Validaci√≥n |
|-------|------|-----------|------------|
| Nombre completo | String | ‚úÖ | 2-100 caracteres |
| Email | String | ‚úÖ | Formato email v√°lido |
| Tel√©fono | String | ‚ùå | Formato colombiano |
| Empresa | String | ‚ùå | 2-100 caracteres |
| Cargo | String | ‚ùå | Texto libre |
| Servicio de inter√©s | Enum | ‚úÖ | Dropdown (5 √°reas) |
| Mensaje | String | ‚úÖ | 10-2000 caracteres |
| Acepta pol√≠tica privacidad | Boolean | ‚úÖ | true |

### Servicios de Inter√©s (Dropdown)

1. Derecho Administrativo / Contrataci√≥n Estatal
2. Derecho de Competencias (Libre Competencia)
3. Derecho Corporativo / Empresarial
4. Derecho de Telecomunicaciones
5. Registro de Marcas / Propiedad Industrial

### Estado Actual de Implementaci√≥n

| Componente | Estado | Notas |
|------------|--------|-------|
| Lead Entity | ‚úÖ 100% | Modelo completo con score |
| Lead API (CRUD) | ‚úÖ 100% | POST, GET, LIST funcionando |
| Eventos NATS | ‚úÖ 100% | lead.capturado implementado |
| Tests de seguridad | ‚úÖ 100% | 66 tests pasando |
| Frontend formulario | üîÑ 10% | Estructura creada |
| Notificaciones | üîÑ 15% | Skeleton |

---

## üìä PILAR 3: Integraci√≥n n8n (Clasificaci√≥n Inteligente)

### Descripci√≥n
Las integraciones con n8n Cloud permiten clasificar leads autom√°ticamente, calcular scoring, y proporcionar m√©tricas de calidad para la toma de decisiones.

### Arquitectura de Integraci√≥n

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   INTEGRACI√ìN PLATAFORMA ‚Üî N8N CLOUD                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  PLATAFORMA WEB                          N8N CLOUD                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ                       ‚îÇ               ‚îÇ                       ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  client-service       ‚îÇ               ‚îÇ  MW#1: CAPTURA        ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ    NATS       ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Lead API    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  ‚îÇ SUB-A       ‚îÇ     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ lead.capturado ‚îÇ  ‚îÇ Intake      ‚îÇ     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ                       ‚îÇ               ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  n8n-integration     ‚îÇ               ‚îÇ         ‚îÇ            ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ   Webhook     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Bridge      ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  ‚îÇ SCORING     ‚îÇ     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ /lead-scored  ‚îÇ  ‚îÇ HOT/WARM/COLD‚îÇ     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ            ‚îÇ               ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ               ‚îÇ         ‚îÇ            ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Actualizar  ‚îÇ     ‚îÇ               ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ leadScore   ‚îÇ     ‚îÇ               ‚îÇ  ‚îÇ RESPUESTA IA ‚îÇ     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ leadCategory‚îÇ     ‚îÇ               ‚îÇ  ‚îÇ (Gemini)    ‚îÇ     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ               ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ                       ‚îÇ               ‚îÇ                       ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Lead Scoring (Calculado por n8n)

| Criterio | Puntos | Descripci√≥n |
|----------|-------:|-------------|
| Base (lead capturado) | +30 | Todos los leads inician aqu√≠ |
| Servicio "marca" o "litigio" | +20 | Alta intenci√≥n comercial |
| Mensaje > 50 caracteres | +10 | Descripci√≥n detallada = m√°s inter√©s |
| Tiene tel√©fono | +10 | Mayor contactabilidad |
| Tiene empresa | +10 | Cliente B2B potencial |
| Email corporativo (no @gmail) | +10 | Profesionalismo |
| Cargo C-Level (CEO, CTO, etc.) | +20 | Poder de decisi√≥n |
| **M√ÅXIMO POSIBLE** | **100** | Lead ideal |

### Categor√≠as y Acciones Autom√°ticas

| Categor√≠a | Score | Color | Acci√≥n Autom√°tica |
|-----------|------:|-------|-------------------|
| **HOT** üî• | ‚â•70 | Rojo | Notificaci√≥n inmediata + Email IA personalizado |
| **WARM** üü° | 40-69 | Amarillo | Email IA + Secuencia nurturing |
| **COLD** ‚ö™ | <40 | Gris | Respuesta gen√©rica + Nurturing b√°sico |

### Endpoints de Integraci√≥n

**Plataforma ‚Üí n8n:**
```
NATS Event: lead.capturado
Payload: { leadId, nombre, email, telefono, empresa, cargo, servicio, mensaje, createdAt }
```

**n8n ‚Üí Plataforma:**
```
POST /n8n-integration-service/webhook/lead-scored
Body: { leadId, score, category, aiResponse, processedAt }

POST /n8n-integration-service/webhook/lead-hot
Body: { leadId, urgency, assignedLawyerId }
```

### Estado de Implementaci√≥n

| Componente | Estado | Responsable |
|------------|--------|-------------|
| NATS events (lead.capturado) | ‚úÖ 100% | Backend |
| n8n-integration-service bridge | üîÑ 20% | Backend |
| Webhook /lead-scored | ‚è≥ Pendiente | Backend |
| MW#1 Orquestador | üü° Activo | Marketing |
| SUB-A Intake & Scoring | üü° Validado | Marketing |
| SUB-B Hot Notification | üìã Especificado | Marketing |
| SUB-C Email IA | üìã Especificado | Marketing |

---

## üìä PILAR 4: Dashboards Interactivos

### Descripci√≥n
Visualizaci√≥n de informaci√≥n clave a trav√©s del portal mediante dashboards y tableros interactivos, intuitivos y √∫tiles para la toma de decisiones.

### Dashboard Principal (Administrador)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     DASHBOARD ADMINISTRADOR                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                         M√âTRICAS KPI                                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ LEADS    ‚îÇ  ‚îÇ HOT      ‚îÇ  ‚îÇ WARM     ‚îÇ  ‚îÇ COLD     ‚îÇ           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ TOTALES  ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ   127    ‚îÇ  ‚îÇ    23    ‚îÇ  ‚îÇ    58    ‚îÇ  ‚îÇ    46    ‚îÇ           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  +15%    ‚îÇ  ‚îÇ   +8%    ‚îÇ  ‚îÇ   +12%   ‚îÇ  ‚îÇ   -5%    ‚îÇ           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   LEADS POR SERVICIO        ‚îÇ  ‚îÇ   LEADS RECIENTES                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   (Gr√°fico de torta)        ‚îÇ  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                             ‚îÇ  ‚îÇ   ‚îÇ üî• Juan P√©rez - Marcas      ‚îÇ   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   üü¶ Marcas: 45%            ‚îÇ  ‚îÇ   ‚îÇ    Score: 85 | HOT          ‚îÇ   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   üü® Corporativo: 25%       ‚îÇ  ‚îÇ   ‚îÇ    Hace 5 minutos           ‚îÇ   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   üüß Admin: 15%             ‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   üü© Telecom: 10%           ‚îÇ  ‚îÇ   ‚îÇ üü° Mar√≠a L√≥pez - Corp       ‚îÇ   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   üü™ Competencias: 5%       ‚îÇ  ‚îÇ   ‚îÇ    Score: 55 | WARM         ‚îÇ   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                             ‚îÇ  ‚îÇ   ‚îÇ    Hace 20 minutos          ‚îÇ   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ ‚îÇ
‚îÇ                                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                    TENDENCIA SEMANAL                                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   üìà Gr√°fico de l√≠neas: Leads por d√≠a (√∫ltimos 7 d√≠as)              ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### M√©tricas a Mostrar

| M√©trica | Descripci√≥n | F√≥rmula/Fuente |
|---------|-------------|----------------|
| **Leads Totales** | Total de leads capturados | COUNT(leads) |
| **Leads HOT** | Leads con score ‚â• 70 | COUNT(leads WHERE category='HOT') |
| **Leads WARM** | Leads con score 40-69 | COUNT(leads WHERE category='WARM') |
| **Leads COLD** | Leads con score < 40 | COUNT(leads WHERE category='COLD') |
| **Tasa de Conversi√≥n** | % leads ‚Üí clientes | clientes/leads * 100 |
| **Tiempo Respuesta** | Promedio primera respuesta | AVG(responseTime) |
| **Leads por Servicio** | Distribuci√≥n por √°rea | GROUP BY servicio |
| **Tendencia Diaria** | Leads por d√≠a | GROUP BY fecha |

### Componentes Frontend

| Componente | Tecnolog√≠a | Descripci√≥n |
|------------|------------|-------------|
| KPI Cards | React + Tailwind | Tarjetas con m√©tricas principales |
| Pie Chart | Chart.js / Recharts | Distribuci√≥n por servicio |
| Line Chart | Chart.js / Recharts | Tendencia temporal |
| Lead Table | TanStack Table | Lista de leads con filtros |
| Real-time Updates | WebSocket / Polling | Actualizaci√≥n autom√°tica |

---

## üìä PILAR 5: Producci√≥n Profesional

### Descripci√≥n
Garantizar un despliegue y estado de producci√≥n limpio, con alta disponibilidad, seguridad robusta, optimizaci√≥n SEO, dise√±o responsivo y las mejores pr√°cticas.

### Checklist de Producci√≥n

#### Seguridad
- [ ] HTTPS/TLS en todos los endpoints
- [ ] OAuth2 con Google Workspace
- [ ] RBAC implementado
- [ ] Rate limiting activo
- [ ] Headers de seguridad (CORS, CSP, etc.)
- [ ] Secrets en Kubernetes Secrets (no en c√≥digo)
- [ ] Escaneo Snyk sin vulnerabilidades cr√≠ticas
- [ ] SonarCloud sin issues de seguridad

#### Alta Disponibilidad
- [ ] Kubernetes en GKE Autopilot
- [ ] M√≠nimo 2 r√©plicas por servicio cr√≠tico
- [ ] Health checks configurados
- [ ] Circuit breaker activo
- [ ] Backup diario de PostgreSQL
- [ ] Monitoring con Grafana LGTM

#### SEO
- [ ] Meta tags optimizados
- [ ] Sitemap.xml generado
- [ ] Robots.txt configurado
- [ ] Schema.org markup (LocalBusiness)
- [ ] Open Graph tags
- [ ] Velocidad de carga < 3s (Lighthouse 90+)

#### Responsive Design
- [ ] Mobile-first approach
- [ ] Breakpoints: mobile, tablet, desktop
- [ ] Touch-friendly UI
- [ ] Im√°genes optimizadas (WebP)
- [ ] Lazy loading de im√°genes

#### Mejores Pr√°cticas
- [ ] C√≥digo documentado
- [ ] Tests de seguridad (66+)
- [ ] CI/CD automatizado
- [ ] Logging centralizado (Loki)
- [ ] Tracing distribuido (Tempo)
- [ ] Alertas configuradas

---

## üìÖ TIMELINE DEL MVP

### Diagrama de Gantt Simplificado

```
ENERO 2026                FEBRERO 2026              MARZO 2026
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ S1    S2    S3    S4    ‚îÇ S5    S6    S7    S8    ‚îÇ S9    S10   S11   S12   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                         ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà            ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ PILAR 1: Auth + Roles   ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ                         ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                ‚îÇ                         ‚îÇ
‚îÇ       PILAR 2: Captura Leads (Frontend)           ‚îÇ                         ‚îÇ
‚îÇ                         ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ                   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà            ‚îÇ                         ‚îÇ
‚îÇ                   PILAR 3: Integraci√≥n n8n        ‚îÇ                         ‚îÇ
‚îÇ                         ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ                         ‚îÇ       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                    ‚îÇ
‚îÇ                         ‚îÇ       PILAR 4: Dashboards                         ‚îÇ
‚îÇ                         ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ                         ‚îÇ                   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÇ
‚îÇ                         ‚îÇ                   PILAR 5: Producci√≥n             ‚îÇ
‚îÇ                         ‚îÇ                         ‚îÇ                         ‚îÇ
‚îÇ                         ‚îÇ                         ‚îÇ                   üöÄ MVP‚îÇ
‚îÇ                         ‚îÇ                         ‚îÇ                   27 Mar‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Detalle por Semana

#### Fase 1: Foundation (Semanas 1-4) - Enero 2026

| Semana | Fechas | Entregables | Responsable |
|--------|--------|-------------|-------------|
| S1 | 6-10 Ene | OAuth2 b√°sico en api-gateway | Backend |
| S2 | 13-17 Ene | Sistema RBAC, roles en BD | Backend |
| S3 | 20-24 Ene | Frontend: Landing page | Frontend |
| S4 | 27-31 Ene | Frontend: Formulario contacto | Frontend |

#### Fase 2: Integration (Semanas 5-8) - Febrero 2026

| Semana | Fechas | Entregables | Responsable |
|--------|--------|-------------|-------------|
| S5 | 3-7 Feb | n8n bridge NATS completo | Backend |
| S6 | 10-14 Feb | Webhooks callback n8n ‚Üí plataforma | Backend |
| S7 | 17-21 Feb | MW#1 SUB-A, SUB-B, SUB-C completos | Marketing |
| S8 | 24-28 Feb | Testing E2E formulario ‚Üí n8n ‚Üí respuesta | QA |

#### Fase 3: MVP Launch (Semanas 9-12) - Marzo 2026

| Semana | Fechas | Entregables | Responsable |
|--------|--------|-------------|-------------|
| S9 | 3-7 Mar | Dashboard de leads | Frontend |
| S10 | 10-14 Mar | Notificaciones email funcionales | Backend |
| S11 | 17-21 Mar | Deploy a GKE + DNS | DevOps |
| S12 | 24-27 Mar | Testing final + Lanzamiento | Todos |

---

## ‚úÖ CRITERIOS DE √âXITO DEL MVP

### M√©tricas de Lanzamiento

| M√©trica | Objetivo M√≠nimo | Objetivo Ideal |
|---------|-----------------|----------------|
| Uptime | 99% | 99.5% |
| Tiempo de respuesta API | < 500ms | < 200ms |
| Lighthouse Score | 80+ | 90+ |
| Vulnerabilidades cr√≠ticas | 0 | 0 |
| Tests pasando | 100% | 100% |
| Tiempo respuesta a leads | < 5 min | < 1 min |

### Funcionalidades Verificadas

- [ ] Visitante puede llenar formulario de contacto
- [ ] Lead se guarda en base de datos
- [ ] n8n recibe evento y calcula score
- [ ] Lead HOT notifica a admin inmediatamente
- [ ] Dashboard muestra leads clasificados
- [ ] Administrador puede ver m√©tricas
- [ ] Abogado puede ver solo sus casos
- [ ] Cliente puede ver solo su informaci√≥n
- [ ] Sistema disponible 24/7

---

## üìã POST-MVP: Funcionalidades Futuras

### Q2 2026 (Abril - Junio)
- Portal de clientes completo
- Booking de citas (calendar-service)
- Gesti√≥n de documentos
- MW#2: Retenci√≥n y Reactivaci√≥n

### Q3 2026 (Julio - Septiembre)
- Blog/CMS integrado
- MW#3: F√°brica de Contenido SEO
- Analytics avanzados
- Chat en vivo

### Q4 2026 (Octubre - Diciembre)
- App m√≥vil (React Native)
- Firma electr√≥nica
- WhatsApp Business
- AI Chatbot

---

## üîó DOCUMENTOS RELACIONADOS

| Documento | Descripci√≥n |
|-----------|-------------|
| [REQUERIMIENTOS.md](./REQUERIMIENTOS.md) | Requerimientos funcionales detallados |
| [ROLES_USUARIOS.md](./ROLES_USUARIOS.md) | Definici√≥n de los 4 roles |
| [ESTRATEGIA_AUTOMATIZACION.md](./ESTRATEGIA_AUTOMATIZACION.md) | Integraci√≥n n8n |
| [MODELO_NEGOCIO.md](./MODELO_NEGOCIO.md) | Contexto empresarial |
| [ARQUITECTURA_FUNCIONAL.md](./ARQUITECTURA_FUNCIONAL.md) | Mapeo a microservicios |

---

*Documento gestionado por el Business Product Agent - Versi√≥n 1.0*
